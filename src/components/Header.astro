<header class="fixed inset-x-0 top-0 z-50 bg-white/70 backdrop-blur-xs shadow-sm dark:bg-gray-900/70 dark:backdrop-blur-sm">
  <nav class="mx-auto flex items-center max-w-7xl justify-between p-6 lg:px-8" aria-label="Global">
    <div class="flex lg:flex-1">
      <a href="#" class="-m-1.5 p-1.5">
        <img class="h-10 w-auto dark:hidden" src="./icon.webp" alt="logo 83studio " />
        <img class="h-10 w-auto hidden dark:block" src="./icon-dark.png" alt="logo 83studio " />
      </a>
    </div>
    <div class="flex lg:hidden">
      <button type="button" class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700">
        <span class="sr-only">Open main menu</span>
        <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
        </svg>
      </button>
    </div>
    <div class="hidden lg:flex lg:gap-x-12">
      <a href="#servicios" class="text-lg/6 font-semibold text-gray-900 hover:text-purple-800 dark:text-white">Servicio</a>
      <a href="#proceso" class="text-lg/6 font-semibold text-gray-900 hover:text-purple-800 dark:text-white">Procesos</a>
      <a href="#galeria" class="text-lg/6 font-semibold text-gray-900 hover:text-purple-800 dark:text-white">Galeria</a>
      <a href="#contacto" class="text-lg/6 font-semibold text-gray-900 hover:text-purple-800 dark:text-white">Contacto</a>
    </div>
    <div class="hidden lg:flex lg:flex-1 lg:justify-end">
      <a href="#contacto" class="rounded-full bg-purple-800 px-8 py-3 text-sm font-semibold text-white shadow-md hover:bg-blue-700"> Contactanos </a>
    </div>

    <button id="theme-toggle" class="dark:text-white px-2 font-medium" aria-label="Cambiar modo oscuro/claro">
      <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun dark:hidden">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
        <path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />
      </svg>
      <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden dark:block icon icon-tabler icons-tabler-outline icon-tabler-moon">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
      </svg>
    </button>
  </nav>
</header>

<script is:inline>
  // El JavaScript que ya tienes está bien, no necesita cambios aquí.
  // Solo asegúrate de que esté incluido en tu HTML (como lo tienes).

  const themeToggleBtn = document.getElementById('theme-toggle');

  function setTheme(theme) {
    if (theme === 'dark') {
      document.documentElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    } else {
      document.documentElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    }
  }

  function toggleTheme() {
    if (document.documentElement.classList.contains('dark')) {
      setTheme('light');
    } else {
      setTheme('dark');
    }
  }

  window.addEventListener('load', () => {
    const storedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (storedTheme) {
      setTheme(storedTheme);
    } else if (prefersDark) {
      setTheme('dark');
    } else {
      setTheme('light');
    }
  });

  if (themeToggleBtn) {
    themeToggleBtn.addEventListener('click', toggleTheme);
  }
</script>